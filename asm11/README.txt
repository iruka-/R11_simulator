-----------------------------------------------------
	これは 仮想的な11bit計算機用のアセンブラです。
-----------------------------------------------------

概要
  これは、11bit CPU用の簡易的なアセンブラです。

  １つのソースファイルから、バイナリーを直接生成します。
  リストファイルも出力します。
  
  リンカーやライブラリアンには対応していません。



-----------------------------------------------------
お約束
-まだ完成品ではありません。
-コマンドライン上から実行します。
-実在する 11bit 計算機と仕様が異なる場合があります。
--随時実物に合わせていく予定です。



-----------------------------------------------------
試し方
-WindowsXPなどを用意します。
-再コンパイルする場合は、MinGW gccを導入してください。
D:> make で再コンパイルできます。

-実行は、コマンドラインから
D:> make test
-これにより、 infile.c をinfile.lst とinfile.bin に
 変換します。

-infile.bin は、r16simディレクトリにtestdata.bin
 という名前でコピーして、sim上で実行してください。


-----------------------------------------------------
ＴｏＤｏ（問題点）

- 11bitコンピュータのシミュレータは、まだありません。
- Ｃ風言語マクロプロセッサは、実装困難なのでサポートしません。

疑似命令
  CALL abs
    ||
  mov C,pc+2
  jmp abs

  RET
    ||
  jmp [work3]

注意:
  サブルーチン先頭に、
  mov [work3],C
  が必要です。
  サブルーチンネストを行う場合はwork3をスタック的に保存する必要があります。


-----------------------------------------------------
ビルド方法:

	Windows上でのビルド＝　MinGW-gcc （www.mingw.org）と make を使用します。

	Linux 上でのビルド ＝　普通のgcc と make を使用します。


-----------------------------------------------------
ソフトウェア配布ライセンス

The MIT License
 Copyright (c) 2014  AVRetc

以下に定める条件に従い、本ソフトウェアおよび関連文書のファイル（以下「ソフトウェア」）の複製を取得するすべての人に対し、ソフトウェアを無制限に扱うことを無償で許可します。これには、ソフトウェアの複製を使用、複写、変更、結合、掲載、頒布、サブライセンス、および/または販売する権利、およびソフトウェアを提供する相手に同じことを許可する権利も無制限に含まれます。 

上記の著作権表示および本許諾表示を、ソフトウェアのすべての複製または重要な部分に記載するものとします。 

ソフトウェアは「現状のまま」で、明示であるか暗黙であるかを問わず、何らの保証もなく提供されます。ここでいう保証とは、商品性、特定の目的への適合性、および権利非侵害についての保証も含みますが、それに限定されるものではありません。 作者または著作権者は、契約行為、不法行為、またはそれ以外であろうと、ソフトウェアに起因または関連し、あるいはソフトウェアの使用またはその他の扱いによって生じる一切の請求、損害、その他の義務について何らの責任も負わないものとします。 


-----------------------------------------------------
